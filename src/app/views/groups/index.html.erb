<%# Project name: MusicalStudentsGroup
 Description: Lets school administrators use a platform to contact donators for instruments,
 Setup a systematic way for students to receive lessons, and for students to form their own
 student music groups.
 Filename: index.html.erb
 Description: Page for listing all student groups
 NOTE: This was originally generated by the scaffold framework, but i edited functionality
 and styling of this file.
 Last modified on: 4-30-2020 %>

<style>
button {
  display: block;
  margin: auto;
}

body {
  background-color: #F3B47D;
}

p {
  text-align: center;
}
</style>

<body>
<h1>Student Music Group Listings</h1>
<%-# table with all groups is rendered, with options. -%>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Year Level</th>
      <th>Number of People Needed</th>
      <th>Instruments Needed</th>
      <th>Music Style</th>
      <th>Location</th>
      <th>Email</th>
      <th colspan="3">Options</th>
    </tr>
  </thead>

  <tbody>
    <% @groups.each do |group| %>
      <tr>
        <td><%= group.name %></td>
        <td><%= group.yearLevel %></td>
        <td><%= group.peopleNeeded %></td>
        <td><%= group.instrumentsNeeded %></td>
        <td><%= group.musicStyle %></td>
        <td><%= group.location %></td>
        <td><%= group.email %></td>
        <td><%= link_to 'Request', group %></td>
        <td><%= link_to 'Edit Group', edit_group_path(group) %></td>
        <td><%= link_to 'Delete Group', group, method: :delete, data: { confirm: 'Are you sure you would like to delete your group listing?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<p>To search for a specific group listing, please type in the name of the person you are looking for. If results are found, the table will be narrowed down, otherwise no results will be given. If no results are given try with different capitalization or spellings. To show all listings again, please clear the search box and hit search.</p>
<div class="field">
  <%= form_tag groups_path, :method => 'get' do %>
    <%= text_field_tag :search, params[:search]%>
    <%= submit_tag "Search" %> 
    <% end %>  
</div>

<br>
<button><%= link_to 'New Group', new_group_path %></button>
</body>