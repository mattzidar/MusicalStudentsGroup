<%# Project name: MusicalStudentsGroup
 Description: Lets school administrators use a platform to contact donators for instruments,
 Setup a systematic way for students to receive lessons, and for students to form their own
 student music groups.
 Filename: index.html.erb
 Description: Page that lists all lesson listings
 NOTE: This was originally part of of what was generated from the scaffold framework, 
 but I made edits to the styling and functionality myself.
 Last modified on: 4-30-2020 %>

<style>
button {
  display: block;
  margin: auto;
}

body {
  background-color: #F3B47D;
}

p {
  text-align: center;
}
</style>
<body>
<h1>Lesson Listings</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Years of Experience</th>
      <th>Instrument</th>
      <th>Location</th>
      <th>Availability</th>
      <th>Email</th>
      <th colspan="3">Options</th>
    </tr>
  </thead>
  <%-# table with all lesson info is generated -%>
  <tbody>
    <% @lessons.each do |lesson| %>
      <tr>
        <td><%= lesson.name %></td>
        <td><%= lesson.experience %></td>
        <td><%= lesson.instrument %></td>
        <td><%= lesson.location %></td>
        <td><%= lesson.availability %></td>
        <td><%= lesson.email %></td>
        <td><%= link_to 'Request Lesson', lesson %></td>
        <td><%= link_to 'Edit Lesson', edit_lesson_path(lesson) %></td>
        <td><%= link_to 'Delete Lesson', lesson, method: :delete, data: { confirm: 'Are you sure you would like to delete your lesson listing?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<p>To search for a specific lesson listing, please type in the instrument lesson you are looking for with a capital letter. If results are found, the table will be narrowed down, otherwise no results will be given. To show all listings again, please clear the search box and hit search.</p>
<div class="field">
  <%= form_tag lessons_path, :method => 'get' do %>
    <%= text_field_tag :search, params[:search]%>
    <%= submit_tag "Search" %> 
    <% end %>  
</div>
<br>
<button><%= link_to 'New Lesson', new_lesson_path %></button>
</body>